<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <!--<link rel="stylesheet" href="/src/assets/css/collectArticle.css">-->
    <title>pdf在线阅读</title>
</head>

<body>
    <div id="app"></div>
    <script>
      
      window.InitData = {};
        window.name = 'pdf-'+'0acdcd51-9684-4089-b8b8-3f1c7d11bb6c.pdf';
        window.InitData.articleType = 'pdf';
        window.InitData.catalog = [{id:"1",pid:"1",name:"Page 1",icon:"/read//front_end/src/modules/pdf/images/nav-icon.png",page:"1"},{id:"2",pid:"2",name:"Page 2",icon:"/read//front_end/src/modules/pdf/images/nav-icon.png",page:"2"},{id:"3",pid:"3",name:"Page 3",icon:"/read//front_end/src/modules/pdf/images/nav-icon.png",page:"3"},{id:"4",pid:"4",name:"Page 4",icon:"/read//front_end/src/modules/pdf/images/nav-icon.png",page:"4"},{id:"5",pid:"5",name:"Page 5",icon:"/read//front_end/src/modules/pdf/images/nav-icon.png",page:"5"},{id:"6",pid:"6",name:"Page 6",icon:"/read//front_end/src/modules/pdf/images/nav-icon.png",page:"6"},{id:"7",pid:"7",name:"Page 7",icon:"/read//front_end/src/modules/pdf/images/nav-icon.png",page:"7"},{id:"8",pid:"8",name:"Page 8",icon:"/read//front_end/src/modules/pdf/images/nav-icon.png",page:"8"}];
        window.InitData.isTreeCatalog = "False";  // 判断目录是否为树形结构
        window.InitData.pageCount = 8;
        window.InitData.HfsFileCode = '0acdcd51-9684-4089-b8b8-3f1c7d11bb6c';
        window.InitData.fileName = '0acdcd51-9684-4089-b8b8-3f1c7d11bb6c.pdf';
        window.InitData.dbCode = '';
        window.InitData.tableName = '7e042cd8-2e0a-424c-813c-4b856d46edf7';
        window.InitData.ImageBasePath =  'http://x.dev.cnki.net/resource/';
        window.InitData.domain = 'http://x.dev.cnki.net/';
        window.InitData.AppId = "CRSP_PSMC_DEV";
        window.InitData.Lid =  '0acdcd51-9684-4089-b8b8-3f1c7d11bb6c';
        window.InitData.dbName = '7e042cd8-2e0a-424c-813c-4b856d46edf7';
        window.InitData.FileSourceType = '2';
        window.InitData.tasktype = 2 - 1;
        window.InitData.ueditorDomain= 'http://x.dev.cnki.net';
        window.InitData.ApplicationPath = '/read/';
        window.InitData.Topic = '183e9b89-bcfe-4e98-a1e8-2510f8e6874f';
        window.InitData.SourceTitle = "";
        window.InitData.AuthorNames = "";
        window.InitData.psmcUrl = 'http://x.dev.cnki.net/psmc'+'#/MyStudy';
        window.InitData.MyCentoUrl = 'http://x.dev.cnki.net/psmc'+'#/Knowledge/MyCento';
        window.CnkiNode = 'http://x.dev.cnki.net';
        window.InitData.XmlEditorUrl = 'http://x.dev.cnki.net/XmlEditor';
        window.InitData.IsLimited = 0;
        window.InitData.StudyInfo = {"CTime":"2020-04-17T18:11:22","DbCode":"4","FileCode":"7e042cd8-2e0a-424c-813c-4b856d46edf7","FileSourceType":2,"FileType":"5","Grade":0,"LearnId":"48d77d0e-4e9f-460c-9f7b-ce2381244d69","ReadPosition":null,"State":0,"TableCode":"0acdcd51-9684-4089-b8b8-3f1c7d11bb6c.pdf","Title":"百度、淘宝、网易、搜狐前端开发面试题集锦","UTime":"2020-05-28T15:38:55","UserId":"183e9b89-bcfe-4e98-a1e8-2510f8e6874f"};
        window.InitData.Act = '';  //判断引用的文件类型  空为普通pdf，refer为参考文献pdf，compare为对比阅读pdf
        window.InitData.DcType = '-1';
        window.InitData.TaskId = '0';
        window.InitData.From = 'ReadingHistory';
        window.InitData.TrilalReadUrl = 'http://x.dev.cnki.net/Trilalread/article/readonline'+ '?filename=' + window.InitData.fileName + '&tablename='
            + window.InitData.tableName + '&dbcode=' + window.InitData.dbCode + '&topic=' + window.InitData.Topic + '&fileSourceType='
            + window.InitData.FileSourceType +'&taskId='+window.InitData.TaskId+'&from='+window.InitData.From+ '&groupid=' + window.InitData.GroupId + '&appId=' + window.InitData.AppId; // 试读url
        
        // 下线，重新登陆
        window.InitData.loginshow = false;              // 登录弹窗的显示与否
        window.InitData.message = "";                   // 下线原因
        window.InitData.url = window.location.href;                       // 再次登录需要跳转的地方
        window.InitData.regshow = false;                // 是否直接显示注册页面
        window.InitData.phone = "";                     // 用户手机号
        window.InitData.Clientip = '192.168.21.35'; //用户IP
     
        window.InitData.ssoHost = 'http://sso.dev.cnki.net/sso';
        window.SSOAPIURL = window.InitData.ssoHost.substring(0, window.InitData.ssoHost.length - 3);
        window.InitData.ssoAppId = 'CRSP_READ_DEV';
        window.InitData.ssoAppKey =  'OhbcyOu57I0eoeCL';
        window.locale = 'zh';
        window.InitData.environment = 'dev';
        
        //  本文url
        window.InitData.pdfonlineUrl = window.InitData.ApplicationPath + 'readonline.ashx?filename=' + window.InitData.fileName + '&tablename=' + window.InitData.tableName + '&dbcode=' + window.InitData.dbCode + '&filesourcetype=1&topic=' + window.InitData.Topic + '&appId=' + window.InitData.AppId + '&devtype=' + '&pageType=POPPAGE#'

        // 判断是否是资源包内文献
        window.InitData.isXMRDFile = '0';

        window.InitData.isMac = false;
        window.InitData.ClockUrl = 'http://192.168.105.87/psmcapi/api/v1.0/Clock/Clock';
        window.InitData.CommonUrl = 'http://x.dev.cnki.net/Search/common'
        OSnow();
        //判断系统类型
        function OSnow() {
            var agent = navigator.userAgent.toLowerCase();
            var isMac = /macintosh|mac os x/i.test(navigator.userAgent);
            if (agent.indexOf("win32") >= 0 || agent.indexOf("wow32") >= 0) {
                window.InitData.isMac = false;
            }

            if (agent.indexOf("win64") >= 0 || agent.indexOf("wow64") >= 0) {
                window.InitData.isMac = false;
            }

            if (isMac) {
                window.InitData.isMac = true;
            }
        }
         window.onbeforeunload = onbeforeunload_handler;
        // window.onunload = onunload_handler;
        function onbeforeunload_handler(){  
            var readPage = {};
            readPage[window.InitData.fileName] = $("#pageIndex").val();
            localStorage.setItem("curPageHis", JSON.stringify(readPage));    
            }
    
    </script>
    <!--编辑器-->
    <!--<script src="/read/front_end/src/modules/obseverContent.js"></script>-->
    <script src="/read/Scripts/ueditor/ueditor.config.js"></script>
    <script src="/read/Scripts/ueditor/ueditor.all.min.js"></script>
    <script src="/read/Scripts/ueditor/lang/zh-cn/zh-cn.js"></script>
    <script src="/read/Scripts/ueditor/third-party/codemirror/codemirror.js"></script>
    <script src="/read/Scripts/ueditor/third-party/zeroclipboard/ZeroClipboard.js"></script>
    
    <!--<script src="/src/assets/js/collect.min.js"></script>-->
    <!--抛物线-->
    <!--<script src="/read/Scripts/jquery.fly.min.js"></script>-->
</body>

</html>